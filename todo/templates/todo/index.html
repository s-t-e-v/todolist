<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Todo App</title>

    {% load static %}

    <link rel="stylesheet" href={% static "todo/style.css" %}>
    <script src={% static "todo/script.js" %}></script>
</head>
<body onload="document.getElementById('switch').checked = false"><!-- We set the deletion button to off state -->
    <header>
        <button hidden class="undo" id="undo">
            <i class="undo_icon"></i>
          </button>
          
        <label class="custom-checkbox">
            <input type="checkbox" onclick="modeswitch()" id="switch">
            <span class="checkmark"></span>
        </label>         
    </header>
    <main>
        <h1>To-do App</h1>

        <form action="#" method="post">
            <input type="text" onkeydown="if (event.keyCode == 13) add_request()" placeholder="New task..." id="taskentry" name="taskentry" {% if not 1 %} disabled="disabled" {% endif %}>
            <input type="button" onclick="add_request()" value="+" id="big_button"><br>
            <div id="task-list">
                {% for x in todo %}
                <input type="checkbox" id="{{x.id}}" class="todocheck" name="{{x.id}}" value="{{x.id}}" {% if x.checkstate == True %} checked {% endif %}><input type="text" value="{{x.taskname}}">  <a class="del" hidden href="#">-</a><br>
                {% endfor %}
            </div>
        </form>
    </main>
    
</body>
</html>